{"ast":null,"code":"import * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class MarkerService {\n  constructor(http) {\n    this.http = http;\n    this.baseURL = \"http://localhost:5432/transmitters\";\n  }\n  makeTransmitterMarkers(map) {\n    const layer = L.layerGroup();\n    this.http.get(this.baseURL).subscribe(res => {\n      for (const t of res) {\n        const lon = t.tranSouradnice_s;\n        const lat = t.tranSouradnice_n;\n        const popupContent = t.transmitter_name;\n        const imagePath = t.image_path;\n        const customIcon = L.icon({\n          iconUrl: imagePath,\n          iconSize: [32, 32],\n          iconAnchor: [16, 32]\n        });\n        const marker = L.marker([lat, lon], {\n          icon: customIcon\n        });\n        marker.bindPopup(popupContent).addTo(layer);\n      }\n      return layer;\n    });\n    return layer;\n  }\n}\nMarkerService.ɵfac = function MarkerService_Factory(t) {\n  return new (t || MarkerService)(i0.ɵɵinject(i1.HttpClient));\n};\nMarkerService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: MarkerService,\n  factory: MarkerService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["L","MarkerService","constructor","http","baseURL","makeTransmitterMarkers","map","layer","layerGroup","get","subscribe","res","t","lon","tranSouradnice_s","lat","tranSouradnice_n","popupContent","transmitter_name","imagePath","image_path","customIcon","icon","iconUrl","iconSize","iconAnchor","marker","bindPopup","addTo","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\Honza\\Desktop\\OOP\\projekty\\policieProjekt\\angular-leaflet\\src\\app\\map\\marker.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as L from 'leaflet';\nimport { Transmitter } from 'src/model/Transmitter';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarkerService {\n\n \n  private baseURL = \"http://localhost:5432/transmitters\";\n\n \n  constructor(private http: HttpClient) {\n  }\n \n \n\n makeTransmitterMarkers(map: L.Map): L.LayerGroup {\n  const layer = L.layerGroup();\n\n  this.http.get<Transmitter[]>(this.baseURL).subscribe((res: Transmitter[]) => {\n    for (const t of res) {\n      const lon = t.tranSouradnice_s;\n      const lat = t.tranSouradnice_n;\n      const popupContent = t.transmitter_name;\n      const imagePath = t.image_path;\n\n      const customIcon = L.icon({\n        iconUrl: imagePath,\n        iconSize: [32, 32],\n        iconAnchor: [16, 32]\n      });\n\n      const marker = L.marker([lat, lon], { icon: customIcon });\n      marker.bindPopup(popupContent).addTo(layer);\n   \n    }\n\n\n    return layer;\n  });\n\n\n  return layer;\n}\n}\n\n\n"],"mappings":"AAEA,OAAO,KAAKA,CAAC,MAAM,SAAS;;;AAQ5B,OAAM,MAAOC,aAAa;EAMxBC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAHhB,KAAAC,OAAO,GAAG,oCAAoC;EAItD;EAIDC,sBAAsBA,CAACC,GAAU;IAChC,MAAMC,KAAK,GAAGP,CAAC,CAACQ,UAAU,EAAE;IAE5B,IAAI,CAACL,IAAI,CAACM,GAAG,CAAgB,IAAI,CAACL,OAAO,CAAC,CAACM,SAAS,CAAEC,GAAkB,IAAI;MAC1E,KAAK,MAAMC,CAAC,IAAID,GAAG,EAAE;QACnB,MAAME,GAAG,GAAGD,CAAC,CAACE,gBAAgB;QAC9B,MAAMC,GAAG,GAAGH,CAAC,CAACI,gBAAgB;QAC9B,MAAMC,YAAY,GAAGL,CAAC,CAACM,gBAAgB;QACvC,MAAMC,SAAS,GAAGP,CAAC,CAACQ,UAAU;QAE9B,MAAMC,UAAU,GAAGrB,CAAC,CAACsB,IAAI,CAAC;UACxBC,OAAO,EAAEJ,SAAS;UAClBK,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;UAClBC,UAAU,EAAE,CAAC,EAAE,EAAE,EAAE;SACpB,CAAC;QAEF,MAAMC,MAAM,GAAG1B,CAAC,CAAC0B,MAAM,CAAC,CAACX,GAAG,EAAEF,GAAG,CAAC,EAAE;UAAES,IAAI,EAAED;QAAU,CAAE,CAAC;QACzDK,MAAM,CAACC,SAAS,CAACV,YAAY,CAAC,CAACW,KAAK,CAACrB,KAAK,CAAC;;MAK7C,OAAOA,KAAK;IACd,CAAC,CAAC;IAGF,OAAOA,KAAK;EACd;;AAtCaN,aAAa,C;mBAAbA,aAAa,EAAA4B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAb/B,aAAa,C;SAAbA,aAAa;EAAAgC,OAAA,EAAbhC,aAAa,CAAAiC,IAAA;EAAAC,UAAA,EAFZ;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}